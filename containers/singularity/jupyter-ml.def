Bootstrap: docker
From: jupyter/datascience-notebook:hub-3.1.1

%post
    # Install REQUIRED JupyterHub packages with specific versions for ASC cluster
    /opt/conda/bin/pip install --no-cache-dir \
        jupyterhub==3.1.1 \
        nbclassic==0.3.7 \
        git+https://github.com/katringoogoo/batchspawner.git@1.2.0+auth_fix

    # Install JupyterLab extensions (optional but recommended)
    /opt/conda/bin/pip install --no-cache-dir \
        jupyterlab-system-monitor \
        jupyterlab-git \
        jupyterlab-widgets

    # Install your custom ML/scientific packages
    /opt/conda/bin/pip install --no-cache-dir \
        torch torchvision \
        numpy scipy pandas h5py \
        matplotlib seaborn plotly \
        scikit-learn \
        python-lsp-server black isort flake8 \
        tqdm

%environment
    export LC_ALL=C.UTF-8
    export LANG=C.UTF-8

%labels
    Author kronberger@iap.tuwien.ac.at
    Version v1.0
